(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t){},139:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=a(6),l=a(152),i=a(145),u=a(4),m=a.n(u),p=a(8),f=a(13),d=a.n(f),E=a(23),v=a(142),b=a(143),h=a(144),y=a(146),g=a(147),O={host:window.location.hostname},j=a(67),x=a(68),N=new(function(){function e(){var t=this;Object(j.a)(this,e),this.events={},document.body.addEventListener("keydown",(function(e){var a=e.key,n=e.metaKey,r=e.shiftKey;Object.keys(t.events).forEach((function(e){var c=t.events[e].condition,o=c.metaKey,s=c.shiftKey,l=c.key;o===n&&s===r&&l===a&&t.events[e].callback.call()}))}))}return Object(x.a)(e,[{key:"addEvent",value:function(e,t,a){var n=t.metaKey,r=t.shiftKey,c=t.key;this.events[e]||(this.events[e]={condition:{metaKey:n,shiftKey:r,key:c},callback:a})}}]),e}()),S=[115200,345600,56700,19200,9600],k=function(e){var t=e.onStatusChange,a=void 0===t?function(){return!0}:t,c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],u=o[1],f=Object(n.useState)(!1),j=Object(s.a)(f,2),x=j[0],k=j[1],T=Object(n.useState)(),w=Object(s.a)(T,2),C=w[0],D=w[1],R=Object(n.useState)(),J=Object(s.a)(R,2),P=J[0],I=J[1],K=Object(E.a)(),_=K.register,L=K.getValues,A=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=L(),a=t.port,n=t.baudRate,e.next=4,d.a.post("http://".concat(O.host,":4002/connect"),{port:a,baudRate:n});case 4:k(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response,alert(JSON.stringify(r.data));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("http://".concat(O.host,":4002/disconnect"));case 3:k(!1),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t=e.t0.response,alert(JSON.stringify(t.data));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d.a.get("http://".concat(O.host,":4002/list")).then((function(e){var t=e.data;return u(t)})),d.a.get("http://".concat(O.host,":4002/info")).then((function(e){var t=e.data;if("connected"===t.status){var a=t.data,n=a.port,r=a.baudRate;D(n),I(r),k(!0)}else k(!1)})).catch((function(e){return console.log({e:e})})),N.addEvent("connect",{metaKey:!0,shiftKey:!0,key:"s"},(function(){return A()})),N.addEvent("disconnect",{metaKey:!0,shiftKey:!0,key:"x"},(function(){return z()}))}),[]),Object(n.useMemo)((function(){a(x)}),[x,a]),r.a.createElement(v.a,{className:"mt-2"},r.a.createElement(b.a,{row:!0},r.a.createElement(h.a,{sm:1},r.a.createElement("span",{className:"font-weight-bolder"},"Port: ")),r.a.createElement(i.a,{sm:7},r.a.createElement(y.a,{type:"select",name:"port",value:C,innerRef:_({required:!0})},r.a.createElement("option",{value:"/dev/ROBOT",key:"robot"},"/dev/ROBOT"),l.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement(i.a,{sm:2},r.a.createElement(y.a,{type:"select",name:"baudRate",value:P,innerRef:_({required:!0})},S.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(i.a,{sm:2},!x&&r.a.createElement(g.a,{type:"button",color:"success",className:"form-control",onClick:A},"Connect"),x&&r.a.createElement(g.a,{type:"button",color:"danger",className:"form-control",onClick:z},"Disconnected"))))},T=a(12);function w(e){if("string"!==typeof e)return!1;try{var t=JSON.parse(e),a=Object.prototype.toString.call(t);return"[object Object]"===a||"[object Array]"===a}catch(n){return!1}}var C=function(e){return{type:"SET_SERIAL_INPUT_TEXT",payload:{inputText:e.inputText}}},D=a(70),R=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://".concat(O.host,":4002/saves")).catch((function(){return[]})).then((function(e){return e.data.map((function(e){return{id:e.id,header:e.header,data:e.data}}))}));case 2:a=e.sent,t({type:"FETCH_PRESET",payload:Object(D.sortBy)(a,"header")});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=Object(T.b)((function(e){return{serialInputText:e.input.serialInputText}}),{addRecent:function(e){return{type:"ADD_RECENT",payload:{data:e.data}}}})((function(e){var t=e.connection,a=e.addRecent,c=e.serialInputText,o=Object(E.a)(),l=o.register,i=o.watch,u=o.setValue,f=Object(n.useState)(void 0),h=Object(s.a)(f,2),j=h[0],x=h[1];Object(n.useEffect)((function(){u("jsonText",JSON.stringify(c,null,2))}),[c]);var S=function(){x(void 0);var e=i("jsonText");w(e)?u("jsonText",JSON.stringify(JSON.parse(e),null,2)):x("Json format is invalid")},k=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),w(i("jsonText"))){e.next=4;break}return alert("JsonText is invalid"),e.abrupt("return");case 4:return e.prev=4,e.next=7,d.a.post("http://".concat(O.host,":4002/commit"),{data:JSON.parse(i("jsonText"))});case 7:n=JSON.stringify(JSON.parse(i("jsonText"))),a({data:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),r=e.t0.response,alert(JSON.stringify(r));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return N.addEvent("commit",{metaKey:!0,shiftKey:!0,key:"Enter"},(function(){return k()})),N.addEvent("format",{metaKey:!0,shiftKey:!0,key:"l"},(function(){return S()})),r.a.createElement(v.a,{onSubmit:k},r.a.createElement(b.a,null,r.a.createElement("div",{className:"row justify-content-lg-between pb-0"},r.a.createElement("div",{className:"ml-3"},r.a.createElement("span",{className:"font-weight-bolder"},"Input"),r.a.createElement("span",{style:{color:"red"}}," ",j)),r.a.createElement("div",{className:"mr-4"},r.a.createElement(g.a,{type:"button",color:"primary",className:"mb-1 btn-sm",onClick:S},"Format"),w(i("jsonText"))&&r.a.createElement(g.a,{type:"submit",color:"success",className:"mb-1 btn-sm"},"Commit"))),r.a.createElement(y.a,{type:"textarea",name:"jsonText",disabled:!t,style:{height:"90vh"},innerRef:l({required:!0})})))})),P=a(29),I=a.n(P),K=I()("http://".concat(O.host,":4002")),_=function(e){var t=e.connection,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],p=u[1],f=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){K.on(e,(function(e){c(e)}))}),[e]),r}("listening");return Object(n.useEffect)((function(){N.addEvent("clearText",{metaKey:!0,shiftKey:!0,key:"k"},(function(){return l("")}))}),[]),Object(n.useMemo)((function(){if(f){var e=f.type,t=f.data;if("json"===e){if(m)return l("".concat(JSON.stringify(t,null,2),"\r\n"));l("".concat(o).concat(JSON.stringify(t,null,2),"\r\n"))}else{if(m)return l("".concat(t,"\r\n"));l("".concat(o).concat(t,"\r\n"))}}}),[f,m]),r.a.createElement(b.a,{className:"m-0 p-0"},r.a.createElement("div",{className:"row justify-content-lg-between pb-1"},r.a.createElement("div",{className:"ml-3"},r.a.createElement("span",{className:"font-weight-bolder"},"Output")),r.a.createElement("div",{className:"mr-4"},r.a.createElement(h.a,{check:!0},r.a.createElement(y.a,{type:"checkbox",checked:m,onChange:function(e){var t=e.target;return p(t.checked)}})," ","Auto-Clear"),r.a.createElement(g.a,{type:"button",color:"primary",className:"ml-3 btn-sm",onClick:function(){return l("")}},"Clear"))),r.a.createElement(y.a,{type:"textarea",disabled:!t,value:o,style:{height:"45vh",lineHeight:1.2}}))},L=a(153),A=a(148),z=a(149),q=a(150),F=Object(T.b)(null,{addPreset:function(e){var t=e.header,a=e.data;return function(e){d.a.post("http://".concat(O.host,":4002/saves"),{header:t,data:a}).catch((function(){return[]})).then((function(){return e(R())})),e(R())}}})((function(e){var t=e.open,a=void 0!==t&&t,n=e.close,c=void 0===n?function(){return null}:n,o=e.addPreset,s=Object(E.a)(),l=s.register,i=s.getValues,u=s.triggerValidation,f=s.errors,d=s.watch,v=s.setValue;return r.a.createElement(L.a,{isOpen:a,toggle:c,size:"lg"},r.a.createElement(A.a,{toggle:c},"Add Preset"),r.a.createElement(z.a,null,r.a.createElement(h.a,null,r.a.createElement("strong",null,"Title")," ",f.title&&r.a.createElement("p",{style:{color:"red"}},"title is required.")),r.a.createElement(y.a,{name:"title",type:"text",size:"lg",innerRef:l({required:!0})}),r.a.createElement(h.a,null,r.a.createElement("strong",null,"Preset data"),f.presetData&&"required"===f.presetData.type&&r.a.createElement("p",{style:{color:"red"}},"preset is required."),f.presetData&&"validate"===f.presetData.type&&r.a.createElement("p",{style:{color:"red"}},"preset must be json format.")),r.a.createElement(y.a,{name:"presetData",type:"textarea",size:"lg",style:{height:"40vh"},innerRef:l({required:!0,validate:function(e){return w(e)}})}),r.a.createElement("div",{className:"w-100 text-right m-2"},w(d("presetData"))&&r.a.createElement(g.a,{type:"button",color:"primary",size:"lg",onClick:function(){var e=d("presetData");v("presetData",JSON.stringify(JSON.parse(e),null,2))}},"Format"))),r.a.createElement(q.a,null,r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(g.a,{type:"button",color:"danger",size:"lg",onClick:c},"Discard"),r.a.createElement(g.a,{className:"ml-2",type:"button",color:"success",size:"lg",onClick:Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:t=i(),a=t.title,n=t.presetData,o({header:a,data:JSON.parse(n)}),c();case 8:case"end":return e.stop()}}),e)})))},"Add Preset"))))})),B=a(151),V=Object(T.b)((function(e){return{presets:e.preset.presets}}),{fetchPreset:R,deletePreset:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("http://".concat(O.host,":4002/saves/deletes"),{id:e}).catch((function(){return[]}));case 2:a(R()),a({type:"DELETE_PRESET",payload:{}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.open,a=void 0!==t&&t,c=e.close,o=void 0===c?function(){return null}:c,s=e.presets,l=e.fetchPreset,i=e.deletePreset;return Object(n.useEffect)((function(){l()}),[]),r.a.createElement(L.a,{isOpen:a,toggle:o,size:"lg"},r.a.createElement(A.a,{toggle:o},"Edit Preset"),r.a.createElement(z.a,null,r.a.createElement(B.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Data"),r.a.createElement("th",null,"OP"))),r.a.createElement("tbody",null,s.map((function(e){var t=e.id,a=e.header,n=e.data;return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,a),r.a.createElement("td",null,JSON.stringify(n).slice(0,50)),r.a.createElement("td",null,r.a.createElement(g.a,{type:"button",color:"danger",size:"sm",style:{width:60},onClick:function(){return i(t)}},"Delete"),r.a.createElement(g.a,{type:"button",color:"primary",size:"sm",style:{width:60},className:"ml-1"},"Edit")))}))))))})),H=Object(T.b)((function(e){return{presets:e.preset.presets}}),{setSerialInputText:C,fetchPreset:R})((function(e){var t=e.setSerialInputText,a=e.presets,c=e.fetchPreset,o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),d=f[0],E=f[1];return Object(n.useEffect)((function(){c()}),[]),r.a.createElement(b.a,{row:!0,className:"mt-2"},r.a.createElement(F,{close:function(){return m(!1)},open:u}),r.a.createElement(V,{close:function(){return E(!1)},open:d}),r.a.createElement(h.a,{xs:1},r.a.createElement("span",{className:"font-weight-bolder"},"Preset: ")),r.a.createElement(i.a,{xs:7},r.a.createElement(y.a,{type:"select",onChange:function(e){var n=e.target;return-1!==n.value&&t({inputText:a[n.value].data})}},a.map((function(e,t){var a=e.header;e.data;return r.a.createElement("option",{key:t,value:t},a)})))),r.a.createElement(i.a,{xs:2},r.a.createElement(g.a,{type:"button",color:"primary",className:"form-control",onClick:function(){return E(!0)}},"Edit")),r.a.createElement(i.a,{xs:2},r.a.createElement(g.a,{type:"button",color:"success",className:"form-control",onClick:function(){return m(!0)}},"+ Add")))})),M=Object(T.b)((function(e){return{recentList:e.recent.recentList}}),{delRecentAll:function(){return{type:"DELETE_RECENT",payload:{}}},setSerialInputText:C})((function(e){var t=e.recentList,a=e.setSerialInputText;return r.a.createElement(b.a,{row:!0},r.a.createElement(h.a,{xs:1},r.a.createElement("span",{className:"font-weight-bolder"},"Recent: ")),r.a.createElement(i.a,{xs:7},r.a.createElement(y.a,{type:"select",onChange:function(e){var n=e.target;return-1!==n.value&&a({inputText:JSON.parse(t[n.value])})}},t.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.slice(0,100))})))),r.a.createElement(i.a,{xs:2}))})),W=I()("http://".concat(O.host,":4002")),U=function(e){var t=e.connection,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],u=c[1],m=Object(n.useState)("all"),p=Object(s.a)(m,2),f=p[0],d=p[1],E=Object(n.useState)(""),v=Object(s.a)(E,2),h=v[0],g=v[1],O=Object(n.useState)(!1),j=Object(s.a)(O,1)[0],x=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){W.on(e,(function(e){c(e)}))}),[e]),r}("log");return Object(n.useEffect)((function(){N.addEvent("clearLogText",{metaKey:!0,shiftKey:!0,key:"k"},(function(){return u("")}))}),[]),Object(n.useMemo)((function(){if(x){var e=x.data,t=x.meta;if("all"!==f&&t.level!==f)return;if(""!==h&&t.topic!==h)return;if(j)return u("".concat(e,"\r\n"));u("".concat(o).concat(e,"\r\n"))}}),[x,j]),r.a.createElement(b.a,{className:"m-0 p-0"},r.a.createElement(l.a,{form:!0},r.a.createElement(i.a,{md:3,className:"m-0 p-0 ml-1"},r.a.createElement(y.a,{type:"select",className:"form-control",value:f,onChange:function(e){var t=e.target;d(t.value),u("")}},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"fatal"},"Fatal"),r.a.createElement("option",{value:"error"},"Error"),r.a.createElement("option",{value:"warning"},"Warning"),r.a.createElement("option",{value:"info"},"Info"),r.a.createElement("option",{value:"debug"},"Debug"),r.a.createElement("option",{value:"trace"},"Trace"))),r.a.createElement(i.a,{md:8,className:"m-0 p-0"},r.a.createElement(y.a,{type:"text",className:"form-control",value:h,onChange:function(e){var t=e.target;u(""),g(t.value)}}))),r.a.createElement(y.a,{type:"textarea",disabled:!t,value:o,style:{height:"40vh",lineHeight:1.2}}))},X=a(71);var $=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ml-3 mr-3"},r.a.createElement(l.a,null,r.a.createElement(i.a,{xs:"6"},r.a.createElement(k,{onStatusChange:function(e){return c(e)}})),r.a.createElement(i.a,{xs:"6"},a&&r.a.createElement(H,null))),r.a.createElement(l.a,null,r.a.createElement(i.a,{xs:"6"},a&&r.a.createElement(M,null))),r.a.createElement(l.a,null,r.a.createElement(i.a,{xs:"5",style:{padding:1}},r.a.createElement(J,{connection:a})),r.a.createElement(i.a,{xs:"7",style:{padding:1}},r.a.createElement(_,{connection:a}),r.a.createElement(U,{connection:a})))),r.a.createElement("span",{className:"position-absolute",style:{bottom:5,left:5}},"version: ",X.version))};a(139),a(140),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(20),Q=a(72),Y=a(16),Z=a(21),ee={recentList:JSON.parse(localStorage.getItem("recent"))||[]},te={serialInputText:"test"},ae={presets:[]},ne=Object(G.c)({recent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECENT":var a=t.payload.data,n=[].concat(Object(Z.a)(e.recentList),[a]);return localStorage.setItem("recent",JSON.stringify(n)),Object(Y.a)({},e,{recentList:n});case"DELETE_RECENT":return localStorage.removeItem("recent"),Object(Y.a)({},e,{recentList:[]});default:return e}},input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SERIAL_INPUT_TEXT":var a=t.payload.inputText;return Object(Y.a)({},e,{serialInputText:a});default:return e}},preset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRESET":return Object(Y.a)({},e,{presets:t.payload||[]});case"ADD_PRESET":case"DELETE_PRESET":return Object(Y.a)({},e);default:return e}}}),re=Object(G.a)(Q.a)(G.d)(ne);o.a.render(r.a.createElement(T.a,{store:re},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e){e.exports=JSON.parse('{"name":"client","version":"0.8.0","private":true,"dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","@types/reactstrap":"^8.4.2","axios":"^0.19.0","bootstrap":"^4.4.1","lodash":"^4.17.15","react":"^16.12.0","react-dom":"^16.12.0","react-hook-form":"^3.28.15","react-redux":"^7.1.3","react-scripts":"^3.4.0","reactstrap":"^8.2.0","redux":"^4.0.5","redux-thunk":"^2.3.0","socket.io-client":"^2.3.0"},"scripts":{"dev":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},73:function(e,t,a){e.exports=a(141)}},[[73,1,2]]]);
//# sourceMappingURL=main.b1b95b28.chunk.js.map