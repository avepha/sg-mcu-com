(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t){},108:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(48),o=a.n(c),s=a(4),i=a(117),l=a(114),u=a(2),m=a.n(u),f=a(9),p=a.n(f),d=a(18),v=a(111),b=a(112),h=a(113),y=a(115),E=a(116),O={host:window.location.hostname},j=a(49),g=a(50),k=new(function(){function e(){var t=this;Object(j.a)(this,e),this.events={},document.body.addEventListener("keydown",(function(e){var a=e.key,n=e.metaKey,r=e.shiftKey;Object.keys(t.events).forEach((function(e){var c=t.events[e].condition,o=c.metaKey,s=c.shiftKey,i=c.key;o===n&&s===r&&i===a&&t.events[e].callback.call()}))}))}return Object(g.a)(e,[{key:"addEvent",value:function(e,t,a){var n=t.metaKey,r=t.shiftKey,c=t.key;this.events[e]||(this.events[e]={condition:{metaKey:n,shiftKey:r,key:c},callback:a})}}]),e}()),x=[345600,115200,56700,19200,9600],S=function(e){var t=e.onStatusChange,a=void 0===t?function(){return!0}:t,c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],u=o[1],f=Object(n.useState)(!1),j=Object(s.a)(f,2),g=j[0],S=j[1],w=Object(n.useState)(),N=Object(s.a)(w,2),K=N[0],C=N[1],J=Object(n.useState)(),T=Object(s.a)(J,2),R=T[0],B=T[1],q=Object(d.a)(),A=q.register,F=q.getValues,D=function(){var e,t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=F(),t=e.port,a=e.baudRate,r.next=4,m.a.awrap(p.a.post("http://".concat(O.host,":4002/connect"),{port:t,baudRate:a}));case 4:S(!0),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),n=r.t0.response,alert(JSON.stringify(n.data));case 11:case"end":return r.stop()}}),null,null,[[0,7]])},I=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(p.a.post("http://".concat(O.host,":4002/disconnect")));case 3:S(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),e=t.t0.response,alert(JSON.stringify(e.data));case 10:case"end":return t.stop()}}),null,null,[[0,6]])};return Object(n.useEffect)((function(){p.a.get("http://".concat(O.host,":4002/list")).then((function(e){var t=e.data;return u(t)})),p.a.get("http://".concat(O.host,":4002/info")).then((function(e){var t=e.data;if("connected"===t.status){var a=t.data,n=a.port,r=a.baudRate;C(n),B(r),S(!0)}else S(!1)})).catch((function(e){return console.log({e:e})})),k.addEvent("connect",{metaKey:!0,shiftKey:!0,key:"s"},(function(){return D()})),k.addEvent("disconnect",{metaKey:!0,shiftKey:!0,key:"x"},(function(){return I()}))}),[]),Object(n.useMemo)((function(){a(g)}),[g,a]),r.a.createElement(v.a,{className:"mt-2"},r.a.createElement(b.a,{row:!0},r.a.createElement(h.a,{sm:1},"Port"),r.a.createElement(l.a,{sm:7},r.a.createElement(y.a,{type:"select",name:"port",value:K,innerRef:A({required:!0})},r.a.createElement("option",{value:"/dev/ROBOT",key:"robot"},"/dev/ROBOT"),i.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement(l.a,{sm:2},r.a.createElement(y.a,{type:"select",name:"baudRate",value:R,innerRef:A({required:!0})},x.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(l.a,{sm:2},!g&&r.a.createElement(E.a,{type:"button",color:"success",className:"form-control",onClick:D},"Connect"),g&&r.a.createElement(E.a,{type:"button",color:"danger",className:"form-control",onClick:I},"Disconnected"))))};function w(e){if("string"!==typeof e)return!1;try{var t=JSON.parse(e),a=Object.prototype.toString.call(t);return"[object Object]"===a||"[object Array]"===a}catch(n){return!1}}var N=function(e){var t=e.connection,a=e.preset,c=Object(d.a)(),o=c.register,i=c.watch,l=c.setValue,u=Object(n.useState)(void 0),f=Object(s.a)(u,2),j=f[0],g=f[1];Object(n.useEffect)((function(){if(a){var e=a.data;l("jsonText",JSON.stringify(e,null,2))}}),[a]);var x=function(){g(void 0);var e=i("jsonText");w(e)?l("jsonText",JSON.stringify(JSON.parse(e),null,2)):g("Json format is invalid")},S=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.preventDefault(),w(i("jsonText"))){a.next=4;break}return alert("JsonText is invalid"),a.abrupt("return");case 4:return a.prev=4,a.next=7,m.a.awrap(p.a.post("http://".concat(O.host,":4002/commit"),{data:JSON.parse(i("jsonText"))}));case 7:a.next=13;break;case 9:a.prev=9,a.t0=a.catch(4),t=a.t0.response,alert(JSON.stringify(t));case 13:case"end":return a.stop()}}),null,null,[[4,9]])};return k.addEvent("commit",{metaKey:!0,shiftKey:!0,key:"Enter"},(function(){return S()})),k.addEvent("format",{metaKey:!0,shiftKey:!0,key:"l"},(function(){return x()})),r.a.createElement(v.a,{onSubmit:S},r.a.createElement(b.a,null,r.a.createElement(h.a,null,"Input",r.a.createElement("span",{style:{color:"red"}}," ",j)),r.a.createElement(y.a,{type:"textarea",name:"jsonText",disabled:!t,style:{height:"85vh"},innerRef:o({required:!0})})),t&&r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(E.a,{type:"button",color:"primary",className:"m-1",onClick:x},"Format"),w(i("jsonText"))&&r.a.createElement(E.a,{type:"submit",color:"success",className:"m-1"},"Commit")))},K=a(51),C=a.n(K)()("http://".concat(O.host,":4002")),J=function(e){var t=e.connection,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),u=Object(s.a)(l,2),m=u[0],f=u[1],p=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){C.on(e,(function(e){c(e)}))}),[e]),r}("listening");return Object(n.useEffect)((function(){k.addEvent("clearText",{metaKey:!0,shiftKey:!0,key:"k"},(function(){return i("")}))}),[]),Object(n.useMemo)((function(){if(p){var e=p.type,t=p.data;if("json"===e){if(m)return i("".concat(JSON.stringify(t,null,2),"\r\n"));i("".concat(o).concat(JSON.stringify(t,null,2),"\r\n"))}else{if(m)return i("".concat(t,"\r\n"));i("".concat(o).concat(t,"\r\n"))}}}),[p,m]),r.a.createElement(n.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(h.a,null,"Output"),r.a.createElement(y.a,{type:"textarea",disabled:!t,value:o,style:{height:"85vh",lineHeight:1.2}})),r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(h.a,{check:!0},r.a.createElement(y.a,{type:"checkbox",checked:m,onChange:function(e){var t=e.target;return f(t.checked)}})," ","Auto-Clear"),r.a.createElement(E.a,{type:"button",color:"primary",className:"ml-3",onClick:function(){return i("")}},"Clear")))},T=a(12),R=function(e){var t=e.onSelect,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){p.a.get("http://".concat(O.host,":4002/saves")).then((function(e){var a=e.data.map((function(e){return{header:e.header,data:e.data}}));i([].concat(Object(T.a)(o),Object(T.a)(a))),a.length>0&&t(a[0])}))}),[]),r.a.createElement(b.a,{row:!0},r.a.createElement(h.a,{xs:1},"Preset: "),r.a.createElement(l.a,{xs:7},r.a.createElement(y.a,{type:"select",onChange:function(e){var a=e.target;return-1!==a.value&&t(o[a.value])}},o.map((function(e,t){var a=e.header;e.data;return r.a.createElement("option",{key:t,value:t},a)})))),r.a.createElement(l.a,{xs:2},r.a.createElement(E.a,{type:"button",color:"primary",className:"form-control",onClick:function(){return null}},"Edit")),r.a.createElement(l.a,{xs:2},r.a.createElement(E.a,{type:"button",color:"success",className:"form-control",onClick:function(){return null}},"+ Add")))},B=a(52);var q=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),u=Object(s.a)(o,2),m=u[0],f=u[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ml-3 mr-3"},r.a.createElement(S,{onStatusChange:function(e){return c(e)}}),r.a.createElement(i.a,null,r.a.createElement(l.a,{xs:"12"},a&&r.a.createElement(R,{onSelect:function(e){return f(e)}}))),r.a.createElement(i.a,null,r.a.createElement(l.a,{xs:"6"},r.a.createElement(N,{connection:a,preset:m})),r.a.createElement(l.a,{xs:"6"},r.a.createElement(J,{connection:a})))),r.a.createElement("span",{className:"position-absolute",style:{bottom:5,left:5}},"version: ",B.version))};a(108),a(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e){e.exports=JSON.parse('{"name":"client","version":"0.3.0","private":true,"dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","axios":"^0.19.0","bootstrap":"^4.4.1","react":"^16.12.0","react-dom":"^16.12.0","react-hook-form":"^3.28.15","react-scripts":"3.3.0","reactstrap":"^8.2.0","socket.io-client":"^2.3.0"},"scripts":{"dev":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},53:function(e,t,a){e.exports=a(110)}},[[53,1,2]]]);
//# sourceMappingURL=main.7741eb11.chunk.js.map