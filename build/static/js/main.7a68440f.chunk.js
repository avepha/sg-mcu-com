(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t){},107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(47),o=n.n(c),s=n(4),i=n(116),l=n(113),u=n(2),m=n.n(u),f=n(11),p=n.n(f),d=n(16),v=n(110),h=n(111),y=n(112),b=n(114),E=n(115),O={host:window.location.hostname},j=n(48),k=n(49),g=new(function(){function e(){var t=this;Object(j.a)(this,e),this.events={},document.body.addEventListener("keydown",(function(e){var n=e.key,a=e.metaKey,r=e.shiftKey;Object.keys(t.events).forEach((function(e){var c=t.events[e].condition,o=c.metaKey,s=c.shiftKey,i=c.key;o===a&&s===r&&i===n&&t.events[e].callback.call()}))}))}return Object(k.a)(e,[{key:"addEvent",value:function(e,t,n){var a=t.metaKey,r=t.shiftKey,c=t.key;this.events[e]||(this.events[e]={condition:{metaKey:a,shiftKey:r,key:c},callback:n})}}]),e}()),x=[345600,115200,56700,19200,9600],w=function(e){var t=e.onStatusChange,n=void 0===t?function(){return!0}:t,c=Object(a.useState)([]),o=Object(s.a)(c,2),i=o[0],u=o[1],f=Object(a.useState)(!1),j=Object(s.a)(f,2),k=j[0],w=j[1],S=Object(a.useState)(),N=Object(s.a)(S,2),K=N[0],J=N[1],C=Object(a.useState)(),T=Object(s.a)(C,2),R=T[0],B=T[1],q=Object(d.a)(),F=q.register,D=q.getValues,I=function(){var e,t,n,a;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=D(),t=e.port,n=e.baudRate,r.next=4,m.a.awrap(p.a.post("http://".concat(O.host,":4002/connect"),{port:t,baudRate:n}));case 4:w(!0),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),a=r.t0.response,alert(JSON.stringify(a.data));case 11:case"end":return r.stop()}}),null,null,[[0,7]])},M=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(p.a.post("http://".concat(O.host,":4002/disconnect")));case 3:w(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),e=t.t0.response,alert(JSON.stringify(e.data));case 10:case"end":return t.stop()}}),null,null,[[0,6]])};return Object(a.useEffect)((function(){p.a.get("http://".concat(O.host,":4002/list")).then((function(e){var t=e.data;return u(t)})),p.a.get("http://".concat(O.host,":4002/info")).then((function(e){var t=e.data;if("connected"===t.status){var n=t.data,a=n.port,r=n.baudRate;J(a),B(r),w(!0)}else w(!1)})).catch((function(e){return console.log({e:e})})),g.addEvent("connect",{metaKey:!0,shiftKey:!0,key:"s"},(function(){return I()})),g.addEvent("disconnect",{metaKey:!0,shiftKey:!0,key:"x"},(function(){return M()}))}),[]),Object(a.useMemo)((function(){n(k)}),[k,n]),r.a.createElement(v.a,{className:"mt-2"},r.a.createElement(h.a,{row:!0},r.a.createElement(y.a,{sm:1},"Select Port"),r.a.createElement(l.a,{sm:7},r.a.createElement(b.a,{type:"select",name:"port",value:K,innerRef:F({required:!0})},r.a.createElement("option",{value:"/dev/ROBOT",key:"robot"},"/dev/ROBOT"),i.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement(l.a,{sm:2},r.a.createElement(b.a,{type:"select",name:"baudRate",value:R,innerRef:F({required:!0})},x.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(l.a,{sm:2},!k&&r.a.createElement(E.a,{type:"button",color:"success",className:"form-control",onClick:I},"Connect"),k&&r.a.createElement(E.a,{type:"button",color:"danger",className:"form-control",onClick:M},"Disconnected"))))};function S(e){try{JSON.parse(e)}catch(t){return!1}return!0}var N=function(e){var t=e.connection,n=Object(d.a)(),c=n.register,o=n.watch,i=n.setValue,l=Object(a.useState)(void 0),u=Object(s.a)(l,2),f=u[0],j=u[1],k=function(){j(void 0);var e=o("jsonText");S(e)?i("jsonText",JSON.stringify(JSON.parse(e),null,2)):j("Json format is invalid")},x=function(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&e.preventDefault(),S(o("jsonText"))){n.next=4;break}return alert("JsonText is invalid"),n.abrupt("return");case 4:return n.prev=4,n.next=7,m.a.awrap(p.a.post("http://".concat(O.host,":4002/commit"),{data:JSON.parse(o("jsonText"))}));case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(4),t=n.t0.response,alert(JSON.stringify(t));case 13:case"end":return n.stop()}}),null,null,[[4,9]])};return g.addEvent("commit",{metaKey:!0,shiftKey:!0,key:"Enter"},(function(){return x()})),g.addEvent("format",{metaKey:!0,shiftKey:!0,key:"l"},(function(){return k()})),r.a.createElement(v.a,{onSubmit:x},r.a.createElement(h.a,null,r.a.createElement(y.a,null,"Input",r.a.createElement("span",{style:{color:"red"}}," ",f)),r.a.createElement(b.a,{type:"textarea",name:"jsonText",disabled:!t,style:{height:"85vh"},innerRef:c({required:!0})})),t&&r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(E.a,{type:"button",color:"primary",className:"m-1",onClick:k},"Format"),S(o("jsonText"))&&r.a.createElement(E.a,{type:"submit",color:"success",className:"m-1"},"Commit")))},K=n(50),J=n.n(K)()("http://".concat(O.host,":4002")),C=function(e){var t=e.connection,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(!0),u=Object(s.a)(l,2),m=u[0],f=u[1],p=function(e){var t=Object(a.useState)(void 0),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){J.on(e,(function(e){c(e)}))}),[e]),r}("listening");return Object(a.useEffect)((function(){g.addEvent("clearText",{metaKey:!0,shiftKey:!0,key:"k"},(function(){return i("")}))}),[]),Object(a.useMemo)((function(){if(p){var e=p.type,t=p.data;if("json"===e){if(m)return i("".concat(JSON.stringify(t,null,2),"\r\n"));i("".concat(o).concat(JSON.stringify(t,null,2),"\r\n"))}else{if(m)return i("".concat(t,"\r\n"));i("".concat(o).concat(t,"\r\n"))}}}),[p,m]),r.a.createElement(a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(y.a,null,"Output"),r.a.createElement(b.a,{type:"textarea",disabled:!t,value:o,style:{height:"85vh",lineHeight:1.2}})),r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(y.a,{check:!0},r.a.createElement(b.a,{type:"checkbox",checked:m,onChange:function(e){var t=e.target;return f(t.checked)}})," ","Auto-Clear"),r.a.createElement(E.a,{type:"button",color:"primary",className:"ml-3",onClick:function(){return i("")}},"Clear")))},T=n(51);var R=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"ml-3 mr-3"},r.a.createElement(w,{onStatusChange:function(e){return c(e)}}),r.a.createElement(i.a,null,r.a.createElement(l.a,{xs:"6"},r.a.createElement(N,{connection:n})),r.a.createElement(l.a,{xs:"6"},r.a.createElement(C,{connection:n})))),r.a.createElement("span",{className:"position-absolute",style:{bottom:5,left:5}},"version: ",T.version))};n(107),n(108),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e){e.exports=JSON.parse('{"name":"client","version":"0.2.0","private":true,"dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","axios":"^0.19.0","bootstrap":"^4.4.1","react":"^16.12.0","react-dom":"^16.12.0","react-hook-form":"^3.28.15","react-scripts":"3.3.0","reactstrap":"^8.2.0","socket.io-client":"^2.3.0"},"scripts":{"dev":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},52:function(e,t,n){e.exports=n(109)}},[[52,1,2]]]);
//# sourceMappingURL=main.7a68440f.chunk.js.map