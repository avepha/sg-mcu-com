(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t){},104:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(47),o=a.n(r),s=a(4),l=a(113),u=a(110),i=a(2),m=a.n(i),p=a(11),f=a.n(p),v=a(16),h=a(107),d=a(108),b=a(109),E=a(111),y=a(112),O={host:window.location.hostname},g=[9600,19200,56700,115200,345600],j=function(e){var t=e.onStatusChange,a=void 0===t?function(){return!0}:t,r=Object(n.useState)([]),o=Object(s.a)(r,2),l=o[0],i=o[1],p=Object(n.useState)(!1),j=Object(s.a)(p,2),x=j[0],k=j[1],w=Object(n.useState)(),S=Object(s.a)(w,2),N=S[0],J=S[1],C=Object(n.useState)(),R=Object(s.a)(C,2),T=R[0],K=R[1],B=Object(v.a)(),D=B.register,q=B.getValues;return Object(n.useEffect)((function(){f.a.get("http://".concat(O.host,":4002/list")).then((function(e){var t=e.data;return i(t)})),f.a.get("http://".concat(O.host,":4002/info")).then((function(e){var t=e.data;if("connected"===t.status){var a=t.data,n=a.port,c=a.baudRate;J(n),K(c),k(!0)}else k(!1)})).catch((function(e){return console.log({e:e})}))}),[]),Object(n.useMemo)((function(){a(x)}),[x,a]),c.a.createElement(h.a,{className:"mt-2"},c.a.createElement(d.a,{row:!0},c.a.createElement(b.a,{sm:1},"Select Port"),c.a.createElement(u.a,{sm:7},c.a.createElement(E.a,{type:"select",name:"port",value:N,innerRef:D({required:!0})},c.a.createElement("option",{value:"/dev/ROBOT",key:"robot"},"/dev/ROBOT"),l.map((function(e){return c.a.createElement("option",{value:e,key:e},e)})))),c.a.createElement(u.a,{sm:2},c.a.createElement(E.a,{type:"select",name:"baudRate",value:T,innerRef:D({required:!0})},g.map((function(e){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement(u.a,{sm:2},!x&&c.a.createElement(y.a,{type:"button",color:"success",className:"form-control",onClick:function(){var e,t,a,n;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,e=q(),t=e.port,a=e.baudRate,c.next=4,m.a.awrap(f.a.post("http://".concat(O.host,":4002/connect"),{port:t,baudRate:a}));case 4:k(!0),c.next=12;break;case 7:c.prev=7,c.t0=c.catch(0),n=c.t0.response,console.log(n),alert(JSON.stringify(n.data));case 12:case"end":return c.stop()}}),null,null,[[0,7]])}},"Connect"),x&&c.a.createElement(y.a,{type:"button",color:"danger",className:"form-control",onClick:function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(f.a.post("http://".concat(O.host,":4002/disconnect")));case 3:k(!1),t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),e=t.t0.response,console.log(e),alert(JSON.stringify(e.data));case 11:case"end":return t.stop()}}),null,null,[[0,6]])}},"Disconnected"))))};function x(e){try{JSON.parse(e)}catch(t){return!1}return!0}var k=function(e){var t=e.connection,a=Object(v.a)(),r=a.register,o=a.watch,l=a.setValue,u=Object(n.useState)(void 0),i=Object(s.a)(u,2),p=i[0],g=i[1],j=function(){g(void 0);var e=o("jsonText");x(e)?l("jsonText",JSON.stringify(JSON.parse(e),null,2)):g("Json format is invalid")},k=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.preventDefault(),x(o("jsonText"))){a.next=4;break}return alert("JsonText is invalid"),a.abrupt("return");case 4:return a.prev=4,a.next=7,m.a.awrap(f.a.post("http://".concat(O.host,":4002/commit"),{data:JSON.parse(o("jsonText"))}));case 7:a.next=13;break;case 9:a.prev=9,a.t0=a.catch(4),t=a.t0.response,alert(JSON.stringify(t));case 13:case"end":return a.stop()}}),null,null,[[4,9]])};return c.a.createElement(h.a,{onSubmit:k},c.a.createElement(d.a,null,c.a.createElement(b.a,null,"Input",c.a.createElement("span",{style:{color:"red"}}," ",p)),c.a.createElement(E.a,{type:"textarea",name:"jsonText",disabled:!t,style:{height:"85vh"},innerRef:r({required:!0}),onKeyDown:function(e){var t=e.key,a=e.shiftKey,n=e.metaKey;n&&a&&("l"===t||"L"===t)&&j(),n&&"Enter"===t&&k()}})),t&&c.a.createElement("div",{className:"w-100 text-right"},c.a.createElement(y.a,{type:"button",color:"primary",className:"m-1",onClick:j},"Format"),x(o("jsonText"))&&c.a.createElement(y.a,{type:"submit",color:"success",className:"m-1"},"Commit")))},w=a(48),S=a.n(w)()("http://".concat(O.host,":4002")),N=function(e){var t=e.connection,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(!0),i=Object(s.a)(u,2),m=i[0],p=i[1],f=function(e){var t=Object(n.useState)(void 0),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){S.on(e,(function(e){r(e)}))}),[e]),c}("listening");return Object(n.useMemo)((function(){if(f){var e=f.type,t=f.data;if("json"===e){if(m)return l("".concat(JSON.stringify(t,null,2),"\r\n"));l("".concat(o).concat(JSON.stringify(t,null,2),"\r\n"))}else{if(m)return l("".concat(t,"\r\n"));l("".concat(o).concat(t,"\r\n"))}}}),[f,m]),c.a.createElement(n.Fragment,null,c.a.createElement(d.a,null,c.a.createElement(b.a,null,"Output"),c.a.createElement(E.a,{type:"textarea",disabled:!t,value:o,style:{height:"85vh",lineHeight:1.2},onKeyDown:function(e){var t=e.key;e.metaKey&&"k"===t&&l("")}})),c.a.createElement("div",{className:"w-100 text-right"},c.a.createElement(b.a,{check:!0},c.a.createElement(E.a,{type:"checkbox",checked:m,onChange:function(e){var t=e.target;return p(t.checked)}})," ","Auto-Clear"),c.a.createElement(y.a,{type:"button",color:"primary",className:"ml-3",onClick:function(){return l("")}},"Clear")))};var J=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1];return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"ml-3 mr-3"},c.a.createElement(j,{onStatusChange:function(e){return r(e)}}),c.a.createElement(l.a,null,c.a.createElement(u.a,{xs:"6"},c.a.createElement(k,{connection:a})),c.a.createElement(u.a,{xs:"6"},c.a.createElement(N,{connection:a})))))};a(104),a(105),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){e.exports=a(106)}},[[49,1,2]]]);
//# sourceMappingURL=main.2cf85cee.chunk.js.map